# ğŸš€ FreeShare åšå®¢ç³»ç»Ÿ â€”â€” åŸºäº Elasticsearch çš„æ™ºèƒ½åšå®¢å¹³å°

![ç³»ç»Ÿæ¶æ„å›¾](assets/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%9B%BE.drawio.png)

> **2025å¹´å“ˆå°”æ»¨å·¥ä¸šå¤§å­¦ï¼ˆå¨æµ·ï¼‰æœ¬ç§‘ä¼˜ç§€æ¯•ä¸šè®¾è®¡**  
> ä¸€ä¸ªåŸºäº Spring Boot + Vue.js çš„ç°ä»£åŒ–å…¨æ ˆåšå®¢ç³»ç»Ÿï¼Œèåˆæœç´¢å¢å¼ºã€AIæ‘˜è¦ã€ç‰ˆæœ¬æ§åˆ¶ç­‰åˆ›æ–°åŠŸèƒ½

## ğŸŒŸ æ ¸å¿ƒåˆ›æ–°

| ä¼ ç»Ÿé—®é¢˜                | æœ¬ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ                     | æŠ€æœ¯å®ç°                              |
|-------------------------|-----------------------------|--------------------------------------|
| æœç´¢æ•ˆç‡ä½ä¸‹            | âš¡ Elasticsearch å…¨æ–‡æœç´¢        | æ¯«ç§’çº§å“åº”ï¼Œæ”¯æŒè¯­ä¹‰åŒ–æœç´¢            |
| ç‰ˆæœ¬ç®¡ç†å›°éš¾            | ğŸ•°ï¸ å¢åŠ æ–‡ç« ç‰ˆæœ¬è¡¨ï¼Œå‰ç«¯ä½¿ç”¨åµŒå…¥å¼å·¥å…·å®ç°ç‰ˆæœ¬å¯¹æ¯” | å¢é‡å¼ç‰ˆæœ¬å­˜å‚¨ + å¯è§†åŒ– diff å·¥å…·     |
| æ‘˜è¦ç”Ÿæˆä¸å‡†ç¡®          | ğŸ¤– LoRA å¾®è°ƒ DeepSeek æ¨¡å‹      | 92% æ‘˜è¦å‡†ç¡®ç‡ï¼ˆæµ‹è¯•æ•°æ®é›†ï¼‰          |
| æ¨èæ•ˆæœå·®              | ğŸ§  åŒç»´åº¦æ¨èç®—æ³•                  | ç”¨æˆ·ç”»åƒ + å†…å®¹ç›¸ä¼¼åº¦æ··åˆæ¨è         |

## ğŸ› ï¸ æŠ€æœ¯æ ˆå…¨æ™¯

### åç«¯æŠ€æœ¯çŸ©é˜µ
```mermaid
graph LR
    A[Spring Boot 3] --> B[Spring Security]
    A --> C[Elasticsearch]
    A --> D[Redis]
    A --> E[MySQL 8]
    
    subgraph æ—¥å¿—ç³»ç»Ÿ
    F[ELK Stack] --> G[å®æ—¶æ—¥å¿—åˆ†æ]
    end
    
    subgraph å·¥ä½œæµ
    H[Flowable] --> I[å®¡æ ¸å·¥ä½œæµ]
    end
    
    style A fill:#6ab04c,stroke:#333
    style F fill:#f0932b,stroke:#333
    style H fill:#eb4d4b,stroke:#333
 ```

### âš¡ å‰ç«¯æŠ€æœ¯çŸ©é˜µ
```mermaid
graph TB
    A[Vue 3] --> B[Composition API]
    A --> C[Vue Router 4]
    A --> D[Pinia çŠ¶æ€ç®¡ç†]
    
    subgraph UIç»„ä»¶
    E[Element Plus] --> F[è‡ªé€‚åº”å¸ƒå±€]
    G[ECharts] --> H[æ•°æ®å¯è§†åŒ–]
    I[TinyMCE] --> J[å¯Œæ–‡æœ¬ç¼–è¾‘]
    end
    
    style A fill:#42b983,stroke:#333
    style E fill:#409eff,stroke:#333
    style G fill:#c23531,stroke:#333
```

 ## ğŸ—ï¸ é¡¹ç›®ç»“æ„
```plaintext
blog/
â”œâ”€â”€ ğŸ“ assets/           # é¡¹ç›®èµ„æºæ–‡ä»¶
â”œâ”€â”€ ğŸ“ frontend/         # Vue 3 å‰ç«¯å·¥ç¨‹
â”œâ”€â”€ ğŸ“ logs/             # ç³»ç»Ÿæ—¥å¿—ç›®å½•
â”œâ”€â”€ ğŸ“ qwen/             # AI æ¨¡å‹è®­ç»ƒä»£ç 
â”œâ”€â”€ ğŸ“ scripts/          # éƒ¨ç½²è„šæœ¬é›†åˆ
â”‚   â”œâ”€â”€ ğŸªŸ start.ps       # Windows éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ ğŸ§ start.sh      # Linux éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ ğŸ“ src/              # Spring Boot åç«¯
â”‚   â”œâ”€â”€ main/java        # æ ¸å¿ƒä»£ç 
â”‚   â””â”€â”€ resources        # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ tools/            # å¼€å‘å·¥å…·é›†
â””â”€â”€ ğŸ“„ blog.sql          # æ•°æ®åº“åˆå§‹åŒ–
 ```

 ## ğŸš€ å¿«é€Ÿå¼€å§‹
### ğŸ“‹ ç¯å¢ƒè¦æ±‚ ç»„ä»¶ ç‰ˆæœ¬ 
Java 17+ 

Maven 3.9.9+ 

MySQL 8.x 

Node.js 22.12.0+ 

npm 11.0.0+ 

Docker 26.1.1+
### âš™ï¸ å¼€å‘ç¯å¢ƒå¯åŠ¨ åç«¯æœåŠ¡
```bash
# æ ‡å‡†å¯åŠ¨
mvn spring-boot:run

# è‡ªå®šä¹‰ Redis é…ç½®å¯åŠ¨
mvn spring-boot:run -Dspring.redis.password=123456 -Dspring.redis.username=default
 ```
```
 å‰ç«¯æœåŠ¡
```bash
cd frontend
npm install
npm run dev
 ```

### ğŸŒ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
# Docker Compose ä¸€é”®éƒ¨ç½²
docker-compose -f docker-compose.prod.yml up --build
```

### ğŸ“š å¼€å‘è€…æŒ‡å—

#### ğŸ”‘ å…³é”®é…ç½®

| æœåŠ¡ç»„ä»¶       | é»˜è®¤ç«¯å£ | è®¿é—®å‡­æ®         | è¯´æ˜                  |
|----------------|----------|------------------|-----------------------|
| **åç«¯æœåŠ¡**   | `8080`   | admin / 123456   | Spring Boot ä¸»æœåŠ¡    |
| Elasticsearch  | `9200`   | elastic / 123456 | æœç´¢ä¸åˆ†æå¼•æ“        |
| Kibana         | `5601`   | elastic / 123456 | æ•°æ®å¯è§†åŒ–å¹³å°        |
| Redis          | `6379`   | default / 123456 | ç¼“å­˜ä¸æ¶ˆæ¯é˜Ÿåˆ—        |
| MySQL          | `3306`   | root / 123456    | ä¸»æ•°æ®åº“              |

#### ğŸ› ï¸ ä½¿ç”¨è¯´æ˜
1. **ç«¯å£å†²çª**ï¼šå¯é€šè¿‡ä¿®æ”¹ `application.yml` è°ƒæ•´ç«¯å£
2. **å¯†ç å®‰å…¨**ï¼šç”Ÿäº§ç¯å¢ƒåŠ¡å¿…ä¿®æ”¹é»˜è®¤å‡­æ®
3. **æœåŠ¡ä¾èµ–**ï¼š
   ```bash
   # å¿«é€Ÿæ£€æŸ¥æœåŠ¡çŠ¶æ€
   curl -X GET http://localhost:9200  # Elasticsearch
   redis-cli -h 127.0.0.1 -p 6379    # Redis
   ```

#### ğŸ“Œ æ³¨æ„äº‹é¡¹
- æ‰€æœ‰æœåŠ¡å‡æ”¯æŒ Docker éƒ¨ç½²ï¼ˆè§ `docker-compose.yml`ï¼‰
- Kibana éœ€å…ˆå¯åŠ¨ Elasticsearch
- Redis å¯†ç åœ¨ `spring.redis.password` ä¸­é…ç½®

ä»¥ä¸‹æ˜¯ä¼˜åŒ–åçš„è¡¨æ ¼ç‰ˆæœ¬ï¼Œé‡‡ç”¨æ›´æ¸…æ™°çš„ç»“æ„åŒ–å±•ç¤ºæ–¹å¼ï¼š

### ğŸ“Š æ€§èƒ½æŒ‡æ ‡
| æŒ‡æ ‡é¡¹         | æ€§èƒ½è¡¨ç°          | æµ‹è¯•æ¡ä»¶               |
|----------------|-------------------|------------------------|
| æœç´¢å“åº”       | < 200ms          | ç™¾ä¸‡çº§æ–‡æ¡£             |
| ç³»ç»Ÿå¹¶å‘       | 3000+ RPS        | 4æ ¸8GæœåŠ¡å™¨            |
| ç‰ˆæœ¬å¯¹æ¯”       | 0.5s/æ¬¡          | 100KBæ–‡ç« å·®å¼‚          |

### ğŸŒˆ æ ¸å¿ƒåŠŸèƒ½
#### ç”¨æˆ·ä¸­å¿ƒ
| åŠŸèƒ½å›¾æ ‡ | åŠŸèƒ½åç§°         | æŠ€æœ¯å®ç°               |
|---------|------------------|------------------------|
| ğŸ”      | JWTè®¤è¯æˆæƒ      | Spring Security + JWT  |
| ğŸ‘¤      | ç”¨æˆ·ç”»åƒæ„å»º     | Elasticsearch èšåˆåˆ†æ |
| ğŸ’Œ      | ç«™å†…æ¶ˆæ¯é€šçŸ¥     | WebSocket + STOMP      |
| ğŸ¤      | ç”¨æˆ·å…³æ³¨äº’åŠ¨     | å…³ç³»å‹æ•°æ®åº“è®¾è®¡       |

#### å†…å®¹ç®¡ç†
| âœï¸      | Markdownç¼–è¾‘å™¨   | TinyMCE + è‡ªå®šä¹‰æ’ä»¶   |
|---------|------------------|------------------------|
| ğŸ”      | å…¨æ–‡æœç´¢         | Elasticsearch 8.x     |
| ğŸ¤–      | AIæ™ºèƒ½æ‘˜è¦       | DeepSeekå¾®è°ƒæ¨¡å‹      |
| ğŸ“Š      | æ•°æ®ç»Ÿè®¡åˆ†æ     | EChartså¯è§†åŒ–         |

### ğŸ›¡ï¸ å®‰å…¨ä½“ç³»
| ç»„ä»¶          | åŠŸèƒ½æè¿°                 | æŠ€æœ¯æ–¹æ¡ˆ                     |
|---------------|--------------------------|------------------------------|
| ğŸ”’ RBAC       | è§’è‰²æƒé™æ§åˆ¶             | Spring Security + æƒé™æ³¨è§£   |
| ğŸ‘® å·¥ä½œæµ     | å†…å®¹å®¡æ ¸æµç¨‹             | Flowable BPMNå¼•æ“            |
| ğŸ“ å®¡è®¡æ—¥å¿—   | æ“ä½œè®°å½•è¿½è¸ª             | Spring Data Envers           |
| ğŸš« å†…å®¹è¿‡æ»¤   | æ•æ„Ÿä¿¡æ¯æ‹¦æˆª             | ç™¾åº¦AIå®¡æ ¸+æ­£åˆ™åŒ¹é…          |

### ğŸ”§ ç³»ç»Ÿå·¥å…·
| å·¥å…·ç±»å‹     | å®ç°æ–¹æ¡ˆ                 | æœåŠ¡æä¾›å•†        |
|--------------|--------------------------|--------------|
| ğŸ“¤ æ–‡ä»¶å­˜å‚¨  | å¯¹è±¡å­˜å‚¨æœåŠ¡             | é˜¿é‡Œäº‘OSS       |
| ğŸ“¨ é‚®ä»¶é€šçŸ¥  | äº‹åŠ¡æ€§é‚®ä»¶å‘é€           | QQä¼ä¸šé‚®ç®±SMTP   |
| ğŸ“Š ç³»ç»Ÿç›‘æ§  | æŒ‡æ ‡å¯è§†åŒ–               | ELK â†’ Kibana |

### ğŸ¤ ç¬¬ä¸‰æ–¹æœåŠ¡
| æœåŠ¡ç±»å‹     | é›†æˆæ–¹å¼                 | åº”ç”¨åœºæ™¯             |
|--------------|--------------------------|----------------------|
| ğŸ¤– AIå®¡æ ¸    | REST APIè°ƒç”¨             | å†…å®¹å®‰å…¨æ£€æµ‹        |
| ğŸ“§ é‚®ä»¶æœåŠ¡  | SMTPåè®®                | ç”¨æˆ·é€šçŸ¥            |

### ğŸ“ˆ æ¼”è¿›è§„åˆ’
| ç‰ˆæœ¬è®¡åˆ’   | é¢„æœŸæ•ˆæœ    | æŠ€æœ¯å‡†å¤‡                  |
|------------|---------|-----------------------|
| v1.1       | å¾®æœåŠ¡æ¶æ„æ”¹è¿› | å¾®æœåŠ¡æ¨¡å¼                 |


å¤‡æ³¨ï¼šå¦‚éœ€æ­£å¸¸è°ƒç”¨ç™¾åº¦äº‘å†…å®¹å®¡æ ¸åŠŸèƒ½ï¼Œè¯·è§£é™¤BaiduContentService.javaçš„æ³¨é‡Šï¼Œå¹¶è§£é™¤å¯¹åº”æ–‡ä»¶ä¸­å¯¹å…¶çš„è°ƒç”¨å³å¯ã€‚ä»£ç å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯ç”±äºç™¾åº¦äº‘å·²åˆ°æœŸï¼Œå› æ­¤ä¸å†è°ƒç”¨è¯¥APIã€‚
Nginxé…ç½®åœ¨æœåŠ¡å™¨ä¸Šæœ‰ï¼Œæ²¡æœ‰åŒæ­¥åˆ°æœ¬åœ°ï¼Œä¹‹åä¼šåŠ ä¸Šã€‚